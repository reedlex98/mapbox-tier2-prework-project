{"version":3,"sources":["components/Map.js","components/Filter.js","components/Sidebar.js","components/SidebarToggler.js","locations/locations.js","components/FilteredList.js","App.js","index.js"],"names":["mapboxgl","require","globalMap","Map","accessToken","config","geojson","map","forEach","marker","el","document","createElement","classList","add","Marker","setLngLat","geometry","coordinates","setPopup","Popup","offset","setHTML","properties","title","description","addTo","this","createMap","container","style","center","pitch","bearing","zoom","createMarkers","props","locations","querySelectorAll","remove","id","React","Component","Filter","className","placeholder","name","type","value","search","onChange","handleChange","Sidebar","isSidebarCollapsed","children","SidebarToggler","onClick","toggleSidebar","icon","features","FilteredList","completedList","index","key","mountedFilteredList","filteredList","library","faToggleOn","faToggleOff","faLongArrowAltRight","App","state","filteredLocations","bind","filterList","filterLocations","setState","prevState","filter","location","includes","toLowerCase","startsWith","event","target","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6aab6d6b.chunk.js","sourcesContent":["import React from \"react\";\nconst mapboxgl = require(\"mapbox-gl/dist/mapbox-gl.js\");\n\n// const MapboxGeocoder = require(\"@mapbox/mapbox-gl-geocoder\");\nlet globalMap = ''\n\nclass Map extends React.Component {\n  createMap(accessToken, config) {\n    mapboxgl.accessToken = accessToken;\n    return new mapboxgl.Map(config);\n  }\n\n  createMarkers(geojson, map) {\n    geojson.forEach(function(marker) {\n      const el = document.createElement('div')\n      el.classList.add('marker')\n      new mapboxgl.Marker(el).setLngLat(marker.geometry.coordinates)\n      .setPopup(new mapboxgl.Popup({ offset: 25 })\n      .setHTML(`<h3> ${marker.properties.title}</h3>\n                <p>\n                  ${marker.properties.description}\n                </p>`\n              ))\n      .addTo(map);\n    });\n  }\n  \n  componentDidMount() {\n      globalMap = this.createMap(\n      \"pk.eyJ1IjoicmVlZGxleDk4IiwiYSI6ImNqemhuZnJhdjA4M3kzaHFhMTB3dXR1aGkifQ.rMB3AI-KMw89KBRt2Q6KqQ\",\n      {\n        container: \"map-container\", // HTML container id\n        style: \"mapbox://styles/mapbox/navigation-preview-night-v2\", // style URL\n        center: [-46.37464788608155,-23.9688189188999], // starting position as [lng, lat]\n        pitch: 80,\n        bearing: -17.6,\n        zoom: 14\n      }\n    );\n    this.createMarkers(this.props.locations, globalMap);\n    // const geocoder = new MapboxGeocoder({\n    //   accessToken: mapboxgl.accessToken,\n    //   mapboxgl: mapboxgl,\n    //   marker: true,\n    //   placeholder: 'Search for a place in Sao Vicente',\n    //   proximity: {\n    //     latitude: -23.978113,\n    //     longitude: -46.476616\n    //   },\n    //   bbox: [-46.650268293716294,-24.00971344305148,-46.35592184956596,-23.898951151178693],\n    //   limit: 5\n    // });\n    \n    // document.getElementById(\"geocoder\").appendChild(geocoder.onAdd(map));\n  }\n  componentDidUpdate(){\n    const markers = document.querySelectorAll('.marker')\n    markers.forEach(\n      marker => marker.remove()\n    )\n    // if(markers.length === 1)\n    //   markers.click()\n    this.createMarkers(this.props.locations, globalMap);\n  }\n\n  render() {\n    return <div id=\"map-container\" />;\n  }\n}\n\nexport default Map;\n","import React from 'react'\n\nconst Filter = (props) => {\n    return <div className=\"filter\">\n        <input placeholder=\"Search for a location in Sao Vicente\"name='search' type='text' value={props.search} onChange={props.handleChange} />\n    </div>\n}\n\nexport default Filter","import React from \"react\";\n\nconst Sidebar = props => {\n  return (\n    <div className={`sidebar ${props.isSidebarCollapsed && \"collapse\"}`}>\n        {props.children}\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React from 'react'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst SidebarToggler = props => {\n    return <div>\n        <div className='rounded-button sidebar-toggler' onClick={props.toggleSidebar}>\n            {props.isSidebarCollapsed ? <FontAwesomeIcon icon='toggle-off'/> : <FontAwesomeIcon icon='toggle-on'/>}\n        </div>\n    </div>\n}\n\nexport default SidebarToggler","const locations = {\n    type: \"FeatureCollection\",\n    features: [\n      // {\n      //   type: \"Feature\",\n      //   geometry: {\n      //     type: \"Point\",\n      //     coordinates: [-46.476616, -23.978113]\n      //   },\n      //   properties: {\n      //     title: \"Rua Eduardo Cação\",\n      //     description:\n      //       \"This is where my house is located\"\n      //   }\n      // },\n      // {\n      //   type: \"Feature\",\n      //   geometry: {\n      //     type: \"Point\",\n      //     coordinates: [-46.466608, -23.984892]\n      //   },\n      //   properties: {\n      //     title: \"Supermercado Mini Preço\",\n      //     description:\n      //       \"It's the market where I buy stuff\"\n      //   }\n      // },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.386018, -23.970975]\n        },\n        properties: {\n          title: \"Biquinha de Anchieta\",\n          description: \"Biquinha de Anchieta was built by the Jesuits and its first records in history date back to 1553. It was the place where Padre José de Anchieta taught his catechesis classes to the Indians and where the Jesuits built the Colégio dos Meninos de Jesus de São Vicente at the beginning of the colonization of Brazil.\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.38450962699443,-23.97249811521135]\n        },\n        properties: {\n          title: \"Marco Padrão de São Vicente\",\n          description: \"Marco Padrão de São Vicente is located within an islet popularly known as Pedra do Mato, next to Praia do Gonzaguinha. The monument was built to mark the 400th anniversary of the founding of São Vicente. Its inauguration took place in the year 1933\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.38812154232426,-23.974466098388547]\n        },\n        properties: {\n          title: \"Ponte Pênsil\",\n          description: \"Ponte Pênsil was designed in 1910 by Saturnino de Brito, a sanitary doctor who also designed the Santos canals, with the initial objective of conducting the sewage collected in the cities of Santos and São Vicente for release into the Atlantic Ocean, on the Itaipu Bridge, an area that today is located the city of Praia Grande. Built between the Barbosa and Japuí hills, the passage would also facilitate access to Fortaleza de Itaípu\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.36641808465885,-23.970400794719055]\n        },\n        properties: {\n          title: \"Teleférico de São Vicente\",\n          description: \"Teleférico de São Vicente connects Praia do Itararé to Morro do Voturuá and is a popular attraction for those visiting the city.\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.397284855971634,-23.97688849904557]\n        },\n        properties: {\n          title: \"Rua Japão\",\n          description: \"Rua Japão became well known as a fishermen's core. In this street is located Kotoku Iha Square, characterized as a landmark of this street. The place is well known for its lucky stone and its portal, built with Japanese features.\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.38684235581593,-23.969341116273725]\n        },\n        properties: {\n          title: \"Praça 22 de Janeiro\",\n          description: \"Praça 22 de Janeiro is located in front of Biquinha de Anchieta, and has a large park of 8,170 m² of green areas, monuments and also leisure equipment. Admission is free. The sides of this auditorium feature a sequence of photos, similar to frames, with scenes from the staging of Martim Afonso's arrival in the city of São Vicente.\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.36244854232916,-23.9647146861508]\n        },\n        properties: {\n          title: \"Morro da Asa Delta\",\n          description: \"Morro da Asa Delta, also known as Morro do Voturuá, has a height of 180 meters at its highest point, providing ideal conditions for hang gliding or paragliding practitioners. The main attraction of the place is the beautiful landscape provided, with a wide view of the cities of Sao Vicente, Praia Grande, Santos, Cubatão and Guarujá.\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.388069728836285,-23.968759098183156]\n        },\n        properties: {\n          title: \"Vila de São Vicente\",\n          description: \"It reproduces as a time machine, all the architecture, uses and customs of the first brazilian city, making its visitors feel at the beginning of the construction of the country. They are also honored important characters of vincentian and brazilian history. The shops and taverns reproduce the style of the time of the founding of the village of São Vicente.\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.369117,-23.978871]\n        },\n        properties: {\n          title: \"Memorial 500 Anos do Descobrimento\",\n          description: \"Gazebo with a panoramic view of the beaches, the bold building was also planned to house exhibition grounds. It's designed by Oscar Niemeyer\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [ -46.366002,-23.961400]\n        },\n        properties: {\n          title: \"Parque Ecológico Voturuá\",\n          description: \"It has approximately 800 thousand square meters, has ecological trails within the Atlantic Forest, as well as a mini zoo, kiosks, nurseries and greenhouses.\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.370849, -23.977406]\n        },\n        properties: {\n          title: \"Ilha Porchat\",\n          description: \"Porchat Island is a promontory located on the coast of São Paulo at the height of the Millionaires Beach, southwest of the island of São Vicente. It belongs to São Paulo city of São Vicente.\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: [-46.350136, -23.971674]\n        },\n        properties: {\n          title: \"Emissário Submarino\",\n          description: \"Emissário Submarino is, as its name implies, a submarine outfall located in the Brazilian city of Santos, where the Roberto Mário Santini Park is currently located.\"\n        }\n      }\n    ]\n  }\n\nexport default locations","import React from 'react'\n\nconst FilteredList = props => {\n    const completedList = props.locations.map( (value,index) => <li key={index}>{value.properties.title}</li>)\n    const mountedFilteredList = props.filteredList.map( (value,index) => <li key={index}>{value}</li>)\n    if(props.search){\n        return <div className=\"filter filter-list\">\n            <ul>\n                {mountedFilteredList ? mountedFilteredList : \"Nothing found, please try other name\"}\n            </ul>\n        </div>\n    }   else{\n        return <div className=\"filter filter-list\"> Use the input field to search a location\n            <ul>\n               {completedList}\n            </ul>   \n        </div>\n    }\n}\n\nexport default FilteredList","import React from \"react\";\nimport Map from \"./components/Map\";\nimport Filter from \"./components/Filter\";\nimport Sidebar from \"./components/Sidebar\";\nimport SidebarToggler from \"./components/SidebarToggler\";\n\nimport {\n  faToggleOn,\n  faLongArrowAltRight,\n  faToggleOff\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\n\nimport locations from \"./locations/locations\";\nimport FilteredList from \"./components/FilteredList\";\n\nlibrary.add(faToggleOn, faToggleOff, faLongArrowAltRight);\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSidebarCollapsed: false,\n      locations: locations.features,\n      filteredLocations: [],\n      filteredList: [],\n      search: \"\"\n    };\n    this.toggleSidebar = this.toggleSidebar.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.filterList = this.filterList.bind(this);\n    this.filterLocations = this.filterLocations.bind(this);\n  }\n\n  filterLocations() {\n    this.setState(prevState => {\n      return {\n        filteredLocations: prevState.locations.filter(location =>\n          prevState.filteredList.includes(location.properties.title)\n        )\n      }\n    })\n  }\n\n  filterList() {\n    this.setState(prevState => {\n      return {\n        filteredList: prevState.locations\n          .filter(value =>\n            value.properties.title.toLowerCase().startsWith(prevState.search)\n          )\n          .map(value => value.properties.title)\n      };\n    });\n  }\n\n  handleChange(event) {\n    const { value, name } = event.target;\n    this.setState({\n      [name]: value\n    });\n    this.filterList();\n    this.filterLocations()\n  }\n\n  toggleSidebar() {\n    this.setState(prevState => {\n      return {\n        isSidebarCollapsed: !prevState.isSidebarCollapsed\n      };\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Sidebar\n          isSidebarCollapsed={this.state.isSidebarCollapsed}\n          locations={this.state.locations}\n        >\n          <Filter handleChange={this.handleChange} search={this.state.search} />\n          <FilteredList\n            locations={this.state.locations}\n            search={this.state.search}\n            filteredList={this.state.filteredList}\n          />\n        </Sidebar>\n        <SidebarToggler\n          isSidebarCollapsed={this.state.isSidebarCollapsed}\n          toggleSidebar={this.toggleSidebar}\n        />\n        <Map\n          locations={\n            this.state.filteredLocations.length > 0\n              ? this.state.filteredLocations\n              : this.state.locations\n          }\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss'\nimport '../node_modules/mapbox-gl/dist/mapbox-gl.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}